do local Players=game:GetService("Players");local TweenService=game:GetService("TweenService");local LocalPlayer=Players.LocalPlayer;local Mouse=LocalPlayer:GetMouse();local ScreenGui=Instance.new("ScreenGui",LocalPlayer:WaitForChild("PlayerGui"));ScreenGui.ResetOnSpawn=false;local Frame=Instance.new("Frame",ScreenGui);Frame.Size=UDim2.new(0,300,0,400);Frame.Position=UDim2.new(0.5, -150,0.5, -200);Frame.BackgroundColor3=Color3.fromRGB(40,40,40);Frame.Active=true;Frame.Draggable=true;Instance.new("UICorner",Frame);local Title=Instance.new("TextLabel",Frame);Title.Size=UDim2.new(1,0,0,35);Title.Position=UDim2.new(0,0,0,0);Title.BackgroundTransparency=1;Title.Text="Painel de Troca";Title.Font=Enum.Font.GothamBold;Title.TextSize=18;Title.TextColor3=Color3.new(1,1,1);Title.TextStrokeTransparency=0.8;local Tabs=Instance.new("Frame",Frame);Tabs.Size=UDim2.new(1,0,0,35);Tabs.Position=UDim2.new(0,0,0,35);Tabs.BackgroundTransparency=1;local TrocarTab=Instance.new("TextButton",Tabs);TrocarTab.Size=UDim2.new(0.5,0,1,0);TrocarTab.Text="Enviar Único";TrocarTab.BackgroundColor3=Color3.fromRGB(60,60,60);TrocarTab.TextColor3=Color3.new(1,1,1);Instance.new("UICorner",TrocarTab);local AllTab=Instance.new("TextButton",Tabs);AllTab.Size=UDim2.new(0.5,0,1,0);AllTab.Position=UDim2.new(0.5,0,0,0);AllTab.Text="Enviar Todos";AllTab.BackgroundColor3=Color3.fromRGB(80,80,80);AllTab.TextColor3=Color3.new(1,1,1);Instance.new("UICorner",AllTab);local TrocarFrame=Instance.new("Frame",Frame);TrocarFrame.Size=UDim2.new(1,0,1, -70);TrocarFrame.Position=UDim2.new(0,0,0,70);TrocarFrame.BackgroundTransparency=1;local AllFrame=TrocarFrame:Clone();AllFrame.Parent=Frame;AllFrame.Visible=false;local PlayerList=Instance.new("TextButton",TrocarFrame);PlayerList.Size=UDim2.new(1, -20,0,35);PlayerList.Position=UDim2.new(0,10,0,0);PlayerList.Text="Selecionar jogador";PlayerList.BackgroundColor3=Color3.fromRGB(60,60,60);PlayerList.TextColor3=Color3.new(1,1,1);Instance.new("UICorner",PlayerList);local PlayerDropdown=Instance.new("ScrollingFrame",TrocarFrame);PlayerDropdown.Size=UDim2.new(1, -20,0,90);PlayerDropdown.Position=UDim2.new(0,10,0,35);PlayerDropdown.CanvasSize=UDim2.new(0,0,0,0);PlayerDropdown.ScrollBarThickness=6;PlayerDropdown.BackgroundColor3=Color3.fromRGB(45,45,45);PlayerDropdown.Visible=false;PlayerDropdown.BorderSizePixel=0;PlayerDropdown.ClipsDescendants=true;PlayerDropdown.AutomaticCanvasSize=Enum.AutomaticSize.Y;Instance.new("UICorner",PlayerDropdown);local UIListLayout=Instance.new("UIListLayout",PlayerDropdown);UIListLayout.SortOrder=Enum.SortOrder.LayoutOrder;UIListLayout.Padding=UDim.new(0,2);local ItemBox=Instance.new("TextBox",TrocarFrame);ItemBox.PlaceholderText="Nome do Item";ItemBox.Size=UDim2.new(1, -20,0,35);ItemBox.Position=UDim2.new(0,10,0,130);ItemBox.BackgroundColor3=Color3.fromRGB(60,60,60);ItemBox.TextColor3=Color3.new(1,1,1);ItemBox.ClearTextOnFocus=false;ItemBox.Text="";Instance.new("UICorner",ItemBox);local QtyBox=Instance.new("TextBox",TrocarFrame);QtyBox.PlaceholderText="Quantidade";QtyBox.Size=UDim2.new(1, -20,0,35);QtyBox.Position=UDim2.new(0,10,0,175);QtyBox.BackgroundColor3=Color3.fromRGB(60,60,60);QtyBox.TextColor3=Color3.new(1,1,1);QtyBox.ClearTextOnFocus=false;QtyBox.Text="";Instance.new("UICorner",QtyBox);local SendButton=Instance.new("TextButton",TrocarFrame);SendButton.Size=UDim2.new(1, -20,0,35);SendButton.Position=UDim2.new(0,10,1, -45);SendButton.Text="Enviar";SendButton.BackgroundColor3=Color3.fromRGB(0,120,255);SendButton.TextColor3=Color3.new(1,1,1);SendButton.Font=Enum.Font.GothamSemibold;SendButton.TextSize=14;Instance.new("UICorner",SendButton);local AllButton=Instance.new("TextButton",AllFrame);AllButton.Size=UDim2.new(1, -20,0,35);AllButton.Position=UDim2.new(0,10,0,10);AllButton.Text="Enviar todos os itens";AllButton.BackgroundColor3=Color3.fromRGB(0,200,100);AllButton.TextColor3=Color3.new(1,1,1);AllButton.Font=Enum.Font.GothamSemibold;AllButton.TextSize=14;Instance.new("UICorner",AllButton);local MinimizeButton=Instance.new("TextButton",Frame);MinimizeButton.Size=UDim2.new(0,30,0,30);MinimizeButton.Position=UDim2.new(1, -40,0,0);MinimizeButton.Text="_";MinimizeButton.BackgroundColor3=Color3.fromRGB(50,50,50);MinimizeButton.TextColor3=Color3.new(1,1,1);MinimizeButton.Font=Enum.Font.GothamBold;MinimizeButton.TextSize=18;Instance.new("UICorner",MinimizeButton);local CloseButton=Instance.new("TextButton",Frame);CloseButton.Size=UDim2.new(0,30,0,30);CloseButton.Position=UDim2.new(1, -30,0,0);CloseButton.Text="X";CloseButton.BackgroundColor3=Color3.fromRGB(255,50,50);CloseButton.TextColor3=Color3.new(1,1,1);CloseButton.Font=Enum.Font.GothamBold;CloseButton.TextSize=18;Instance.new("UICorner",CloseButton);local selectedPlayer=nil;local itensEnviados={};local function mostrarNotificacao(texto,cor,sucesso) local notificacao=Instance.new("TextLabel");notificacao.Text=texto;notificacao.Size=UDim2.new(0,300,0,35);notificacao.Position=UDim2.new(0.5, -150,0.5, -90);notificacao.AnchorPoint=Vector2.new(0.5,0.5);notificacao.BackgroundTransparency=0.2;notificacao.BackgroundColor3=cor or Color3.fromRGB(20,20,20) ;notificacao.TextColor3=Color3.new(1,1,1);notificacao.Font=Enum.Font.Gotham;notificacao.TextSize=16;notificacao.ZIndex=10;notificacao.Parent=ScreenGui;Instance.new("UICorner",notificacao);TweenService:Create(notificacao,TweenInfo.new(0.3),{Position=notificacao.Position-UDim2.new(0,0,0,30) }):Play();task.delay(5,function() TweenService:Create(notificacao,TweenInfo.new(0.3),{TextTransparency=1,BackgroundTransparency=1}):Play();task.wait(0.5);notificacao:Destroy();end);end local function updateDropdown() for _,child in ipairs(PlayerDropdown:GetChildren()) do if child:IsA("TextButton") then child:Destroy();end end UIListLayout.Parent=PlayerDropdown;for _,player in ipairs(Players:GetPlayers()) do if (player~=LocalPlayer) then local option=Instance.new("TextButton");option.Size=UDim2.new(1,0,0,30);option.Text=player.Name;option.BackgroundColor3=Color3.fromRGB(70,70,70);option.TextColor3=Color3.new(1,1,1);option.Font=Enum.Font.Gotham;option.TextSize=14;Instance.new("UICorner",option);option.Parent=PlayerDropdown;option.MouseButton1Click:Connect(function() selectedPlayer=player;PlayerList.Text=player.Name;PlayerDropdown.Visible=false;end);end end end PlayerList.MouseButton1Click:Connect(function() PlayerDropdown.Visible= not PlayerDropdown.Visible;if PlayerDropdown.Visible then updateDropdown();end end);Players.PlayerAdded:Connect(function() if PlayerDropdown.Visible then updateDropdown();end end);Players.PlayerRemoving:Connect(function() if PlayerDropdown.Visible then updateDropdown();end end);SendButton.MouseButton1Click:Connect(function() if  not selectedPlayer then return;end local itemName=ItemBox.Text;local quantidade=tonumber(QtyBox.Text);if ( not itemName or  not quantidade) then mostrarNotificacao("Preencha os campos corretamente!",Color3.fromRGB(255,50,50));return;end itensEnviados[selectedPlayer.Name]=itensEnviados[selectedPlayer.Name] or {} ;coroutine.wrap(function() local enviados=0;local Backpack=LocalPlayer:FindFirstChild("Backpack");if  not Backpack then return;end for _,item in ipairs(Backpack:GetChildren()) do if (item:IsA("Tool") and (item.Name==itemName) and  not itensEnviados[selectedPlayer.Name][item]) then local humanoid=LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") ;if humanoid then humanoid:UnequipTools();end item.Parent=LocalPlayer.Character;local prompt=selectedPlayer.Character and selectedPlayer.Character:FindFirstChildWhichIsA("ProximityPrompt",true) ;if prompt then prompt.HoldDuration=0;prompt.MaxActivationDistance=math.huge;fireproximityprompt(prompt,0);itensEnviados[selectedPlayer.Name][item]=true;enviados+=1 end if (enviados>=quantidade) then break;end end end if (enviados==0) then mostrarNotificacao("Todos os itens já foram enviados.",Color3.fromRGB(255,150,0));else mostrarNotificacao("Itens enviados com sucesso!",Color3.fromRGB(0,255,0),true);end end)();end);AllButton.MouseButton1Click:Connect(function() if  not selectedPlayer then return;end local bloqueados={["Equipment Bag"]=true,Bestiary=true,["Treasure Map"]=true,["Ancient Thread"]=true,["Lunar Thread"]=true,["Magic Thread"]=true};coroutine.wrap(function() for _,item in ipairs(LocalPlayer.Backpack:GetChildren()) do if item:IsA("Tool") then local nome=item.Name;if ( not nome:lower():find("rod") and  not bloqueados[nome]) then local humanoid=LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") ;if humanoid then humanoid:UnequipTools();end item.Parent=LocalPlayer.Character;local prompt=selectedPlayer.Character and selectedPlayer.Character:FindFirstChildWhichIsA("ProximityPrompt",true) ;if prompt then prompt.HoldDuration=0;prompt.MaxActivationDistance=math.huge;fireproximityprompt(prompt,0);mostrarNotificacao("Enviado: "   .. nome ,Color3.fromRGB(0,255,0));end else mostrarNotificacao("Ignorado: "   .. nome ,Color3.fromRGB(255,80,80));end end end end)();end);TrocarTab.MouseButton1Click:Connect(function() TrocarFrame.Visible=true;AllFrame.Visible=false;TrocarTab.BackgroundColor3=Color3.fromRGB(60,60,60);AllTab.BackgroundColor3=Color3.fromRGB(80,80,80);end);AllTab.MouseButton1Click:Connect(function() TrocarFrame.Visible=false;AllFrame.Visible=true;AllTab.BackgroundColor3=Color3.fromRGB(60,60,60);TrocarTab.BackgroundColor3=Color3.fromRGB(80,80,80);end);MinimizeButton.MouseButton1Click:Connect(function() Frame.Visible= not Frame.Visible;end);CloseButton.MouseButton1Click:Connect(function() ScreenGui:Destroy();end); end
